---
- name: PUSH AS3
  hosts: F5VM
  connection: local
  gather_facts: false

  tasks:
    - name: POST AS3 BODY
      uri:
        url: "https://192.168.1.100/mgmt/shared/fast/applications"
        method: POST
        status_code: 200
        timeout: 300
        body_format: json
        force_basic_auth: yes
        user: "{{ ansible_user }}"
        password: "{{ ansible_ssh_pass }}"
        validate_certs: no
        body: { "name": "FastTemplates/FAST_Template_UDP", "parameters": { "application_group": "{{application_group}}", "application_name": "{{application_name}}", "listener_address": "{{listener_address}}", "listener_port": {{listener_port}}, "pool_port": {{pool_port}}, "server_addresses": [ {{server_addresses}} ] } }